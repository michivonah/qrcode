<!DOCTYPE html>
<html lang="de">
<head>
         <title>QR Code Creator</title>
         <meta name="mobile-web-app-title" content="QR Code">
         <meta name="apple-mobile-web-app-title" content="QR Code">
         <link rel="icon" type="image/png" href="favicon.png">
         <link rel="shortcut icon" type="image/png" href="favicon.png">
         <link rel="apple-touch-icon" href="icons/favicon.svg" sizes="any">
         <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css">
         <link rel="stylesheet" type="text/css" href="style.css"/>
         <meta charset="UTF-8">
         <meta name="theme-color" content="#e67e22">
         <meta name="apple-mobile-web-app-status-bar-style" content="#e67e22">
         <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
         <meta name="mobile-web-app-capable" content="yes">
         <meta name="apple-mobile-web-app-capable" content="yes">
         <link rel="manifest" href="manifest.json">
         <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
         <link rel="preconnect" href="https://fonts.gstatic.com">
         <link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">

</head>
<body>

      <div id="loading-screen">
        <div id="loader"></div>
      </div>


      <div id="navbar">
        <p>QR-Code Creator</p>
      </div>
      <div id="navbar-placeholder"></div>

      <div id="content">
        <div id="home">
          <h3>QR-Code erstellen</h3>
          <p>Hier kannst du kostenlos QR-Codes erstellen. W&auml;hle unten einfach aus, welche Art von QR-Code du erstellen willst und f&uuml;ge dann den Inhalt hinzu.</p>
        </div>
        <div id="creator">
          <div id="qr-types">
            <button id="url-btn" class="qr-type-btn active-type" onclick="changeType('url')">URL <i class="fas fa-link"></i></button>
            <button id="text-btn" class="qr-type-btn" onclick="changeType('text')">Text <i class="fas fa-sticky-note"></i></button>
            <button id="image-btn" class="qr-type-btn" onclick="changeType('image')">Bilder <i class="fas fa-image"></i></button>
            <button id="video-btn" class="qr-type-btn" onclick="changeType('video')">Video <i class="fas fa-video"></i></button>
            <button id="contact-btn" class="qr-type-btn" onclick="changeType('contact')">Kontakt <i class="fas fa-address-book"></i></button>
          </div>
          <div id="input-container">
            <p id="future-function" style="display:none;">Diese Funktion steht aktuell noch nicht zur Verf&uuml;gung.</p>
            <div id="url-container" class="input-container" style="display: block;">
              <input id="qr-input" type="text" placeholder="URL einf端gen">
            </div>
            <div id="text-container" class="input-container">
              <textarea id="text-input" placeholder="Hier Text schreiben...."></textarea>
            </div>
            <div id="image-container" class="input-container">
            </div>
            <div id="video-container" class="input-container">
            </div>
            <div id="contact-container" class="input-container">
              <input type="name" placeholder="Name">
              <input type="email" placeholder="E-Mail Adresse">
              <input type="tel" placeholder="Telefonnummer">
            </div>
            <div id="wlan-container" class="input-container">
            </div>
          </div>
          <button id="create-btn" onclick="newQrcode()">QR-Code erstellen</button>
          <button onclick="downloadQrcode('png')" style="display:none;">QR-Code herunterladen</button>
          <img id="qr-code-img" src="favicon.png">
        </div>
        <div id="footer">
          <p>Um die QR-Codes zu erstellen wird die API von goqr.me verwendet. Wenn sie einen QR-Code erstellen, werden die eingegeben Daten an goqr.me &uuml;bermittelt.</p>
          <p>Version 1.0.2</p>
        </div>
        <button id="new"><i class="fas fa-search"></i></button>
      </div>


      <script>
      // Loading
      $(window).on("load", function(){
        if(window.matchMedia('(prefers-color-scheme: dark)').matches || localStorage.getItem('darkmode') == "true"){
              document.body.style.setProperty('--color', '#fff');
              document.body.style.setProperty('--background', '#000');
              document.getElementById("qr-code-img").src = "favicon-white.png";
          }
        $("#loading-screen").fadeOut(750);
      });

      // create qr code
      function newQrcode(){
        var value = document.getElementById('qr-input').value;
        if(value != ""){
          var qrlink = "https://api.qrserver.com/v1/create-qr-code/?size=900x900&format=png&margin=0&data=" + value;
          var qrcode = document.getElementById("qr-code-img");
          qrcode.src = qrlink;
        }
        else{
          console.log('Error, no input value.');
        }
      }

      // download qr code
      function downloadQrcode(filetype){
        if(filetype == "png"){
          var value = document.getElementById('qr-input').value;
          var qrlink = "https://api.qrserver.com/v1/create-qr-code/?size=900x900&format=png&margin=0&data=" + value;
          var qrcode = document.getElementById("qr-code-img");
          qrcode.src = qrlink;
        }
        else if(filetype == "svg"){
          var value = document.getElementById('qr-input').value;
          var qrlink = "https://api.qrserver.com/v1/create-qr-code/?size=900x900&format=svg&margin=0&data=" + value;
          var qrcode = document.getElementById("qr-code-img");
          qrcode.src = qrlink;
        }
      }

      // change type
      function changeType(type){
        document.getElementById('future-function').style.display = "none";
        var inputField = document.getElementById('qr-input');
        var pressedButton = document.getElementById(event.target.id);
        var allButtons = document.getElementsByClassName("qr-type-btn");
        var allButtonsLoopCount;
        for (allButtonsLoopCount = 0; allButtonsLoopCount < allButtons.length; allButtonsLoopCount++) {
          allButtons[allButtonsLoopCount].classList.remove("active-type");
        }
        pressedButton.classList.add("active-type");
        inputField.style.display = "block";
        inputField.value = "";
        if(type == "url"){
          inputField.placeholder = "URL einf端gen";
        }
        else if(type == "text"){
          inputField.placeholder = "Text hier schreiben...";
        }
        else if(type == "image"){
          inputField.placeholder = "Link zum Bild hier einf端gen";
        }
        else if(type == "video"){
          inputField.placeholder = "Link zum YouTube Video hier einf端gen";
        }
        else if(type == "contact"){
          inputField.style.display = "none";
          document.getElementById('future-function').style.display = "block";
        }
        else{
          inputField.style.display = "none";
          document.getElementById('future-function').style.display = "block";
        }
      }
      </script>
</body>
</html>
